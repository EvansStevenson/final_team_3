
 <%- include('./includes/head.ejs') %>
</head>

<body>
    <%- include('./includes/nav.ejs') %>
    <h1>Add Recipe</h1>
    <form action="/recipe/addrecipe/submit" method="POST">
        <input type="hidden" name="_csrf" value="<%= csrf %>" />
        <input id="numOfIngredients" type="number" value="1" name="numIngredients" hidden>
        <input id="numOfDirections" type="number" value="1" name="numDirections" hidden>

        <input type="number" placeholder="Servings" name="servings"><br>
        <input type="number" placeholder="Preperation Time" name="preperationMinutes"><br>
        <input type="number" placeholder="Cooking Time" name="cookingMinutes"><br>
        <input type="text" placeholder="Title" name="title"><br>

        <input type="text" placeholder="Ingredient #1" name="ingredient1">
        <input name="amount1" type="number" placeholder="amount" style="width: 60px;">
        <select name="unit1" id="unit">
            <option value="teaspoon">teaspoon</option>
            <option value="tablespoon">tablespoon</option>
            <option value="cup">cup</option>
            <option value="pint">pint</option>
            <option value="quart">quart</option>
            <option value="gallon">gallon</option>
            <option value="pound">pound</option>
            <option value="other">other</option>
        </select><br>
        <div id="ingredients">
        </div>
        <button type='button' id="ingredientBtn" onclick="addIngredient()">Add another Ingredient</button><br>
        <input type="text" placeholder="Direction #1" name="direction1"><br>
        <div id="directions">
        </div>
        <button type="button" id="directionBtn" onclick="addDirection()">Add another Direction</button><br>
        <input type="file"><br>
        <input type="submit">
    </form>
    <script>
        let numberOfIngredients = 1;
        let numberOfDirections = 1;
        
        function addIngredient() {
            numberOfIngredients++;
            document.getElementById('numOfIngredients').value = numberOfIngredients;
            let ingredient = document.createElement("input");
            ingredient.setAttribute('type', 'text');
            ingredient.setAttribute('placeholder', 'Ingredient #' + numberOfIngredients.toString());
            ingredient.setAttribute('name', 'ingredient' + numberOfIngredients.toString());
            document.getElementById('ingredients').appendChild(ingredient);

           

            let amount = document.createElement("input");
            amount.setAttribute('name', 'amount' + numberOfIngredients.toString());
            amount.setAttribute('type', 'number');
            amount.setAttribute('placeholder', 'amount');
            amount.setAttribute('style', 'width: 60px;');
            document.getElementById('ingredients').appendChild(amount);

            let selectbox = document.createElement("select");
            selectbox.setAttribute('name', 'unit' + numberOfIngredients.toString());
            selectbox.setAttribute('id', 'unit');
            

            let teaspoon = document.createElement("option");
            teaspoon.setAttribute("value", "teaspoon");
            teaspoon.innerHTML = "teaspoon";

            let tablespoon = document.createElement("option");
            tablespoon.setAttribute("value", "tablespoon");
            tablespoon.innerHTML = "tablespoon";

            let cup = document.createElement("option");
            cup.setAttribute("value", "cup");
            cup.innerHTML = "cup";

            let pint = document.createElement("option");
            pint.setAttribute("value", "pint");
            pint.innerHTML = "pint";

            let quart = document.createElement("option");
            quart.setAttribute("value", "quart");
            quart.innerHTML = "quart";

            let gallon = document.createElement("option");
            gallon.setAttribute("value", "gallon");
            gallon.innerHTML = "gallon";

            let pound = document.createElement("option");
            pound.setAttribute("value", "pound");
            pound.innerHTML = "pound";

            let other = document.createElement("option");
            other.setAttribute("value", "other");
            other.innerHTML = "other";
            
            selectbox.add(teaspoon);
            selectbox.add(tablespoon);
            selectbox.add(cup);
            selectbox.add(pint);
            selectbox.add(quart);
            selectbox.add(gallon);
            selectbox.add(pound);
            selectbox.add(other);
            document.getElementById('ingredients').appendChild(selectbox);
            let br = document.createElement("br");
            document.getElementById('ingredients').appendChild(br);
        }

        function addDirection() {
            numberOfDirections++;
            document.getElementById('numOfDirections').value = numberOfDirections;
            let newDirection = document.createElement("input");
            newDirection.setAttribute('type', 'text');
            newDirection.setAttribute('placeholder', 'Direction #' + numberOfDirections.toString());
            newDirection.setAttribute('name', 'direction' + numberOfDirections.toString());
            document.getElementById('directions').appendChild(newDirection);
            let br = document.createElement("br");
            document.getElementById('directions').appendChild(br);
        }
    </script>
<%- include('./includes/end.ejs') %>